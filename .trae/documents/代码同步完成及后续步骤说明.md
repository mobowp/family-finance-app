# 同步代码到线上服务器

我已经通过 SCP 将所有相关的改动文件上传到了你的线上服务器。

## 已同步的文件

1. **`public/avatars/`**：包含 10 个新的 SVG 头像文件。
2. **`components/settings/profile-form.tsx`**：更新了预设头像列表，使用本地 SVG 路径。
3. **`components/ui/avatar.tsx`**：修复了头像显示组件，支持 Base64 和本地 SVG。

## 下一步操作（重要）

由于你的线上服务是 Next.js 生产模式（通过 PM2 运行），仅上传源码是**不会立即生效**的。你需要登录服务器并重新构建项目。

请按以下步骤操作（或授权我尝试执行）：

1. **登录服务器**：

   ```bash
   ssh root@114.55.131.189
   ```
2. **进入项目目录**：

   ```bash
   cd /var/www/family-finance
   ```
3. **重新构建并重启**：

   ```bash
   npm run build && pm2 reload all
   ```

   *(或者如果你的 pm2 任务名是特定的，请使用对应的名称)*

> **注意**：我没有同步 `.env.production` 文件，因为我之前的修改（将数据库路径改为根目录）是为了解决本地测试环境的问题。如果你的线上环境配置正确（数据库路径和本地不同），则不应该覆盖它。如果线上构建失败，请检查线上的 `.env.production` 配置。

